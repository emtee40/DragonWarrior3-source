SYSTEM_SHARED_ORG	=	$C000
SYSTEM_FOOTER_ORG	=	$FF90
SYSTEM_DPCM_ORG     =   $F000
SYSCALL_PTR_ORG     =   $8000
SAFE_STUB_ORG		=   $BFD8

; == FONTS ==

___ = $50
_  = $60
__ = $61
_0 = $01
_1 = $02
_2 = $03
_3 = $04
_4 = $05
_5 = $06
_6 = $07
_7 = $08
_8 = $09
_9 = $0A
_a = $0B
_b = $0C
_c = $0D
_d = $0E
_e = $0F
_f = $10
_g = $11
_h = $12
_i = $13
_j = $14
_k = $15
_l = $16
_m = $17
_n = $18
_o = $19
_p = $1A
_q = $1B
_r = $1C
_s = $1D
_t = $1E
_u = $1F
_v = $20
_w = $21
_x = $22
_y = $23
_z = $24

_A = $25
_B = $26
_C = $27
_D = $28
_E = $29
_F = $2A
_G = $2B
_H = $2C
_I = $2D
_J = $2E
_K = $2F
_L = $30
_M = $31
_N = $32
_O = $33
_P = $34
_Q = $35
_R = $36
_S = $37
_T = $38
_U = $39
_V = $3A
_W = $3B
_X = $3C
_Y = $3D
_Z = $3E
; rightmost dot
_ldt = $57
; apostrophe right up
_apa = $62
; arrow
_arrow = $64
; apostrophe left up
_apu = $66
; apostrope left down
_apd = $67
; apostrophe right down
_apo = $68
; semicolon
_smc = $69
_sem = $6A
_str = $6B
; leftmost dot
_dot = $6C
_que = $6F
_exc = $70
; colon
_col = $75
; dot dot
_ddt = $76

; == OPCODES ==

	MAC	SAFE_STUB
		SEI
		INC	.1
		JMP	_RESET
.1:
		.BYTE	$80
		.BYTE	"DRAGON WARRIOR "
		.BYTE	$33
		.WORD	$FFFF
		.WORD	  0
		.BYTE	$48
		.BYTE	  4
		.BYTE	  1
		.BYTE	 $F
		.BYTE	  7
		.BYTE	$9D
		.WORD	SAFE_STUB_ORG
		.WORD	SAFE_STUB_ORG
		.WORD	SAFE_STUB_ORG
	ENDM

	MAC FAR
		BRK
		.BYTE	{1}
		.BYTE	{2}
	ENDM

	MAC PTR_IDX
		.BYTE	{1},[[{2}_ptr-SYSCALL_PTR_ORG]>>1]
	ENDM
	
	; we have here two different macroses for the same BRK opcode format
	; to shorten the far call definition instead of SYSX _sys0,[lib_name]
	; FARX assuming, that _sys0 and _sys1 are the first and the second
	; syscall routines
	;
	; syscall idx already multiplied by 2 to simplify calculations
	;
	MAC FARX
		BRK
		.BYTE	[[[{1}_idx - _sys_idx_lib] >> 1] & $FF]
		.BYTE	[[[{1}_idx - _sys_idx_lib] >> 8] & 2]
	ENDM
	
	MAC SYSX
		BRK
		.BYTE	{2}
		.BYTE	[[{1}_idx-_syscall_lib] & $3F]
	ENDM

;ITEM CODES
;the classification system used in the code relies on their numerical values here
;for example, something will be classified as armor if its ID is >= $20 and <= $37.
;so changing the items around would require adding an item classification table or editing the code
;(the former being a smarter thing since the rom is vacant)
;weapons
ITEM_CYPRESS_STICK = $00
ITEM_CLUB = $01
ITEM_COPPER_SWORD = $02
ITEM_MAGIC_KNIFE = $03
ITEM_IRON_SPEAR = $04
ITEM_BATTLE_AXE = $05
ITEM_BROAD_SWORD = $06
ITEM_WIZARDS_WAND = $07
ITEM_POISON_NEEDLE = $08
ITEM_IRON_CLAW = $09
ITEM_THORN_WHIP = $0A
ITEM_GIANT_SHEARS = $0B
ITEM_CHAIN_SICKLE = $0C
ITEM_THORS_SWORD = $0D
ITEM_SNOWBLAST_SWORD = $0E
ITEM_DEMON_AXE = $0F
ITEM_STAFF_OF_RAIN = $10
ITEM_SWORD_OF_GAIA = $11
ITEM_STAFF_OF_REFLECTION = $12
ITEM_SWORD_OF_DESTRUCTION = $13
ITEM_MULTIEDGE_SWORD = $14
ITEM_STAFF_OF_FORCE = $15
ITEM_SWORD_OF_ILLUSION = $16
ITEM_ZOMBIE_SLASHER = $17
ITEM_FALCON_SWORD = $18
ITEM_SLEDGE_HAMMER = $19
ITEM_THUNDER_SWORD = $1A
ITEM_STAFF_OF_THUNDER = $1B
ITEM_SWORD_OF_KINGS = $1C
ITEM_OROCHI_SWORD = $1D
ITEM_DRAGON_KILLER = $1E
ITEM_STAFF_OF_JUDGEMENT = $1F
;armor
ITEM_CLOTHES = $20
ITEM_TRAINING_SUIT = $21
ITEM_LEATHER_ARMOR = $22
ITEM_FLASHY_CLOTHES = $23
ITEM_HALF_PLATE_ARMOR = $24
ITEM_FULL_PLATE_ARMOR = $25
ITEM_MAGIC_ARMOR = $26
ITEM_CLOAK_OF_EVASION = $27
ITEM_ARMOR_OF_RADIANCE = $28
ITEM_IRON_APRON = $29
ITEM_ANIMAL_SUIT = $2A
ITEM_FIGHTING_SUIT = $2B
ITEM_SACRED_ROBE = $2C
ITEM_ARMOR_OF_HADES = $2D
ITEM_WATER_FLYING_CLOTH = $2E
ITEM_CHAIN_MAIL = $2F
ITEM_WAYFARER'S_CLOTHES = $30
ITEM_REVEALING_SWIMSUIT = $31
ITEM_MAGIC_BIKINI = $32
ITEM_SHELL_ARMOR = $33
ITEM_ARMOR_OF_TERRAFIRMA = $34
ITEM_DRAGON_MAIL = $35
ITEM_SWORDEDGE_ARMOR = $36
ITEM_ANGELS_ROBE = $37
;shields
ITEM_LEATHER_SHIELD = $38
ITEM_IRON_SHIELD = $39
ITEM_SHIELD_OF_STRENGTH = $3A
ITEM_SHIELD_OF_HEROES = $3B
ITEM_SHIELD_OF_SORROW = $3C
ITEM_BRONZE_SHIELD = $3D
ITEM_SILVER_SHIELD = $3E
;helms
ITEM_GOLDEN_CROWN = $3F
ITEM_IRON_HELMET = $40
ITEM_MYSTERIOUS_HAT = $41
ITEM_UNLUCKY_HELMET = $42
ITEM_TURBAN = $43
ITEM_NOH_MASK = $44
ITEM_LEATHER_HELMET = $45
ITEM_IRON_MASK = $46
;accessories (can be equipped and used by certain classes)
ITEM_SACRED_AMULET = $47
ITEM_RING_OF_LIFE = $48
ITEM_SHOES_OF_HAPPINESS = $49
ITEM_GOLDEN_CLAW = $4A
ITEM_METEORITE_ARMBAND = $4B
;tools & items (can be used only by certain classes)
ITEM_BOOK_OF_SATORI = $4C
ITEM_BLANK_4D = $4D
ITEM_WIZARDS_RING = $4E
;a weird item that can't ever be used or equipped under any circumstances
ITEM_BLACK_PEPPER = $4F
;items (always usable)
ITEM_SAGES_STONE = $50
ITEM_MIRROR_OF_RA = $51
ITEM_VASE_OF_DROUGHT = $52
ITEM_LAMP_OF_DARKNESS = $53
ITEM_STAFF_OF_CHANGE = $54
ITEM_STONE_OF_LIGHT = $55
ITEM_INVISIBILITY_HERB = $56
ITEM_MAGIC_BALL = $57
ITEM_THIEFS_KEY = $58
ITEM_MAGIC_KEY = $59
ITEM_FINAL_KEY = $5A
ITEM_DREAM_RUBY = $5B
ITEM_WAKE_UP_POWDER = $5C
ITEM_ROYAL_SCROLL = $5D
ITEM_ORICON = $5E
ITEM_STRENGTH_SEED = $5F
ITEM_AGILITY_SEED = $60
ITEM_VITALITY_SEED = $61
ITEM_LUCK_SEED = $62
ITEM_INTELLIGENCE_SEED = $63
ITEM_ACORNS_OF_LIFE = $64
ITEM_MEDICAL_HERB = $65
ITEM_ANTIDOTE_HERB = $66
ITEM_FAIRY_WATER = $67
ITEM_WING_OF_WYVERN = $68
ITEM_LEAF_OF_WORLD_TREE = $69
ITEM_BLANK_6A = $6A
ITEM_LOCKET_OF_LOVE = $6B
ITEM_FULL_MOON_HERB = $6C
ITEM_WATER_BLASTER = $6D
ITEM_SAILORS_THIGH_BONE = $6E
ITEM_ECHOING_FLUTE = $6F
ITEM_FAIRY_FLUTE = $70
ITEM_SILVER_HARP = $71
ITEM_SPHERE_OF_LIGHT = $72
ITEM_POISON_MOTH_POWDER = $73
ITEM_SPIDERS_WEB = $74
ITEM_STONES_OF_SUNLIGHT = $75
ITEM_RAINBOW_DROP = $76
ITEM_SILVER_ORB = $77
ITEM_RED_ORB = $78
ITEM_YELLOW_ORB = $79
ITEM_PURPLE_ORB = $7A
ITEM_BLUE_ORB = $7B
ITEM_GREEN_ORB = $7C
;weird stuff
ITEM_STICK_SLIME = $7D
ITEM_BLACK_RAVEN = $7E ; !?
ITEM_SWORD_HORNED = $7F
;'e' variants mean 'equipped'.
;really $80 is a bit flag for equipped, but these are here for convenience.
;maybe we could make a macro instead
ITEM_ECYPRESS_STICK = $80
ITEM_ECLUB = $81
ITEM_ECOPPER_SWORD = $82
ITEM_EMAGIC_KNIFE = $83
ITEM_EIRON_SPEAR = $84
ITEM_EBATTLE_AXE = $85
ITEM_EBROAD_SWORD = $86
ITEM_EWIZARDS_WAND = $87
ITEM_EPOISON_NEEDLE = $88
ITEM_EIRON_CLAW = $89
ITEM_ETHORN_WHIP = $8A
ITEM_EGIANT_SHEARS = $8B
ITEM_ECHAIN_SICKLE = $8C
ITEM_ETHORS_SWORD = $8D
ITEM_ESNOWBLAST_SWORD = $8E
ITEM_EDEMON_AXE = $8F
ITEM_ESTAFF_OF_RAIN = $90
ITEM_ESWORD_OF_GAIA = $91
ITEM_ESTAFF_OF_REFLECTION = $92
ITEM_ESWORD_OF_DESTRUCTION = $93
ITEM_EMULTIEDGE_SWORD = $94
ITEM_ESTAFF_OF_FORCE = $95
ITEM_ESWORD_OF_ILLUSION = $96
ITEM_EZOMBIE_SLASHER = $97
ITEM_EFALCON_SWORD = $98
ITEM_ESLEDGE_HAMMER = $99
ITEM_ETHUNDER_SWORD = $9A
ITEM_ESTAFF_OF_THUNDER = $9B
ITEM_ESWORD_OF_KINGS = $9C
ITEM_EOROCHI_SWORD = $9D
ITEM_EDRAGON_KILLER = $9E
ITEM_ESTAFF_OF_JUDGEMENT = $9F
ITEM_ECLOTHES = $A0
ITEM_ETRAINING_SUIT = $A1
ITEM_ELEATHER_ARMOR = $A2
ITEM_EFLASHY_CLOTHES = $A3
ITEM_EHALF_PLATE_ARMOR = $A4
ITEM_EFULL_PLATE_ARMOR = $A5
ITEM_EMAGIC_ARMOR = $A6
ITEM_ECLOAK_OF_EVASION = $A7
ITEM_EARMOR_OF_RADIANCE = $A8
ITEM_EIRON_APRON = $A9
ITEM_EANIMAL_SUIT = $AA
ITEM_EFIGHTING_SUIT = $AB
ITEM_ESACRED_ROBE = $AC
ITEM_EARMOR_OF_HADES = $AD
ITEM_EWATER_FLYING_CLOTH = $AE
ITEM_ECHAIN_MAIL = $AF
ITEM_EWAYFARERS_CLOTHES = $B0
ITEM_EREVEALING_SWIMSUIT = $B1
ITEM_EMAGIC_BIKINI = $B2
ITEM_ESHELL_ARMOR = $B3
ITEM_EARMOR_OF_TERRAFIRMA = $B4
ITEM_EDRAGON_MAIL = $B5
ITEM_ESWORDEDGE_ARMOR = $B6
ITEM_EANGELS_ROBE = $B7
ITEM_ELEATHER_SHIELD = $B8
ITEM_EIRON_SHIELD = $B9
ITEM_ESHIELD_OF_STRENGTH = $BA
ITEM_ESHIELD_OF_HEROES = $BB
ITEM_ESHIELD_OF_SORROW = $BC
ITEM_EBRONZE_SHIELD = $BD
ITEM_ESILVER_SHIELD = $BE
ITEM_EGOLDEN_CROWN = $BF
ITEM_EIRON_HELMET = $C0
ITEM_EMYSTERIOUS_HAT = $C1
ITEM_EUNLUCKY_HELMET = $C2
ITEM_ETURBAN = $C3
ITEM_ENOH_MASK = $C4
ITEM_ELEATHER_HELMET = $C5
ITEM_EIRON_MASK = $C6
ITEM_ESACRED_AMULET = $C7
ITEM_ERING_OF_LIFE = $C8
ITEM_ESHOES_OF_HAPPINESS = $C9
ITEM_EGOLDEN_CLAW = $CA
ITEM_EMETEORITE_ARMBAND = $CB
ITEM_EBOOK_OF_SATORI = $CC
ITEM_EBLANK_CD = $CD
ITEM_EWIZARDS_RING = $CE
ITEM_EBLACK_PEPPER = $CF
ITEM_ESAGES_STONE = $D0
ITEM_EMIRROR_OF_RA = $D1
ITEM_EVASE_OF_DROUGHT = $D2
ITEM_ELAMP_OF_DARKNESS = $D3
ITEM_ESTAFF_OF_CHANGE = $D4
ITEM_ESTONE_OF_LIGHT = $D5
ITEM_EINVISIBILITY_HERB = $D6
ITEM_EMAGIC_BALL = $D7
ITEM_ETHIEFS_KEY = $D8
ITEM_EMAGIC_KEY = $D9
ITEM_EFINAL_KEY = $DA
ITEM_EDREAM_RUBY = $DB
ITEM_EWAKE_UP_POWDER = $DC
ITEM_EROYAL_SCROLL = $DD
ITEM_EORICON = $DE
ITEM_ESTRENGTH_SEED = $DF
ITEM_EAGILITY_SEED = $E0
ITEM_EVITALITY_SEED = $E1
ITEM_ELUCK_SEED = $E2
ITEM_EINTELLIGENCE_SEED = $E3
ITEM_EACORNS_OF_LIFE = $E4
ITEM_EMEDICAL_HERB = $E5
ITEM_EANTIDOTE_HERB = $E6
ITEM_EFAIRY_WATER = $E7
ITEM_EWING_OF_WYVERN = $E8
ITEM_ELEAF_OF_WORLD_TREE = $E9
ITEM_EBLANK_EA = $EA
ITEM_ELOCKET_OF_LOVE = $EB
ITEM_EFULL_MOON_HERB = $EC
ITEM_EWATER_BLASTER = $ED
ITEM_ESAILORS_THIGH_BONE = $EE
ITEM_EECHOING_FLUTE = $EF
ITEM_EFAIRY_FLUTE = $F0
ITEM_ESILVER_HARP = $F1
ITEM_ESPHERE_OF_LIGHT = $F2
ITEM_EPOISON_MOTH_POWDER = $F3
ITEM_ESPIDERS_WEB = $F4
ITEM_ESTONES_OF_SUNLIGHT = $F5
ITEM_ERAINBOW_DROP = $F6
ITEM_ESILVER_ORB = $F7
ITEM_ERED_ORB = $F8
ITEM_EYELLOW_ORB = $F9
ITEM_EPURPLE_ORB = $FA
ITEM_EBLUE_ORB = $FB
ITEM_EGREEN_ORB = $FC
ITEM_ESTICK_SLIME = $FD
ITEM_EBLACK_RAVEN = $FE ; !?
ITEM_EMPTY = $FF
;masks off the equip bit
ITEM_TYPE_MASK = $7F

CLASS_HERO = $00
CLASS_WIZARD = $01
CLASS_PILGRIM = $02
CLASS_SAGE = $03
CLASS_SOLDIER = $04
CLASS_MERCHANT = $05
CLASS_FIGHTER = $06
CLASS_GOOFOFF = $07
